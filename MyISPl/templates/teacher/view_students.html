{% extends "template.html" %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">Students List for {{ teacher.first_name }} {{ teacher.last_name }}</h1>
    {% if students %}
        <table class="table table-bordered table-hover">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">Student ID</th>
                    <th scope="col">Photo</th>
                    <th scope="col">Name</th>
                    <th scope="col">Gender</th>
                    <th scope="col">SAC Status</th>
                    <th scope="col">Academic Performance</th>
                    <th scope="col">Language Proficiency</th>
                    <th scope="col">Classes</th>
                </tr>
            </thead>
            <tbody>
                {% for student in students %}
                    <tr>
                        <td>{{ student.student_id }}</td>
                        <td><img src="{{ student.photo }}" alt="{{ student.first_name }} {{ student.last_name }}" class="img-thumbnail" style="max-width: 50px;"></td>
                        <td>{{ student.first_name }} {{ student.last_name }}</td>
                        <td>{{ student.gender }}</td>
                        <td>in developing</td>
                        <td>{{ student.get_academic_performance() }}</td>
                        <td>{{ student.get_language_proficiency() }}</td>
                        <td>
                            <ul class="list-unstyled">
                                {% for student_class in student.student_classes %}
                                    {% if student_class.class_.user_id == teacher.user_id %}
                                        <li>{{ student_class.class_.class_name }} ({{ student_class.class_.class_code }})</li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <div class="alert alert-warning" role="alert">
            No students found for this teacher.
        </div>
    {% endif %}
</div>
{% endblock %}